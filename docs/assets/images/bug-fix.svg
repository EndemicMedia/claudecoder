<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="400" height="200" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
  <style>
    .background { fill: #f8f9fa; }
    .code { font-family: 'Courier New', monospace; font-size: 10px; }
    .primary { fill: #4a86e8; }
    .secondary { fill: #34a853; }
    .accent { fill: #fbbc05; }
    .removed { fill: #ff6b6b; text-decoration: line-through; }
    .added { fill: #34a853; }
    .highlight { fill: #f9e9e9; stroke: #ff6b6b; stroke-width: 1px; }
    .highlight-green { fill: #e9f5e9; stroke: #34a853; stroke-width: 1px; }
  </style>
  
  <!-- Background -->
  <rect width="400" height="200" rx="5" class="background" />
  
  <!-- Bug Issue Box -->
  <rect x="20" y="15" width="360" height="40" rx="3" fill="#fff" stroke="#ddd" stroke-width="1" />
  <text x="35" y="30" font-family="Arial" font-size="11" font-weight="bold" fill="#333">Bug #124: Array index out of bounds in search function</text>
  <text x="35" y="45" font-family="Arial" font-size="10" fill="#666">When searching with an empty query, the app crashes due to an index error</text>
  
  <!-- Code Snippet Background -->
  <rect x="20" y="65" width="360" height="120" rx="3" fill="#fff" stroke="#ddd" stroke-width="1" />
  
  <!-- Original problematic code with highlight -->
  <rect x="30" y="95" width="340" height="15" class="highlight" />
  <text x="30" y="80" class="code" fill="#666">function searchItems(query, items) {</text>
  <text x="30" y="95" class="code" fill="#666">  const results = items.filter(item => {</text>
  <text x="30" y="110" class="code" class="removed">    return item.name.toLowerCase().indexOf(query.toLowerCase()) > -1;</text>
  <text x="30" y="125" class="code" fill="#666">  });</text>
  <text x="30" y="140" class="code" fill="#666">  return results;</text>
  <text x="30" y="155" class="code" fill="#666">}</text>
  
  <!-- Fixed code -->
  <rect x="30" y="170" width="340" height="15" class="highlight-green" />
  <text x="30" y="170" class="code" class="added">+   return query && item.name ? item.name.toLowerCase().indexOf(query.toLowerCase()) > -1 : false;</text>
  
  <!-- AI Fix Indicator -->
  <circle cx="15" cy="170" r="5" fill="#34a853" />
</svg>
